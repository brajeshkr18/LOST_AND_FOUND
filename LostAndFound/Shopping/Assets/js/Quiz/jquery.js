(function(a){a.alerts={init:function(){if(typeof window.is_captainform!="undefined"&&window.is_captainform==true){this.overlayColor="#f1f1f1"}},verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.8,overlayColor:"#000",draggable:false,okButton:lang.get("confirmOkButton"),deleteButton:lang.get("confirmDeleteButton"),cancelButton:lang.get("confirmCancelButton"),yesButton:lang.get("reports_rules_yes"),noButton:lang.get("standard_no_button"),dialogClass:null,alert:function(b,c,d){if(c==null){c="Alert"}a.alerts._show(c,b,null,"alert",function(e){if(d){d(e)}})},confirm:function(d,e,b,f,c){if(e==null){e="Confirm"}c=typeof c!=="undefined"?c:false;a.alerts._show(e,d,null,"confirm",b,function(g){if(f){f(g)}},c)},prompt:function(b,c,d,e){if(d==null){d="Prompt"}a.alerts._show(d,b,c,"prompt",function(f){if(e){e(f)}})},_show:function(j,b,k,h,f,m,d){a.alerts._hide();a.alerts._overlay("show");d=typeof d!=="undefined"?d:false;a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>');if(a.alerts.dialogClass){a("#popup_container").addClass(a.alerts.dialogClass)}var i="fixed";a("#popup_container").css({position:i,zIndex:99999,padding:0,margin:0});a("#popup_title").text(j);a("#popup_content").addClass(h);a("#popup_message").text(b);a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />"));a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()});a.alerts._reposition();a.alerts._maintainPosition(true);switch(h){case"alert":a("#popup_message").after('<div id="popup_panel" class="bootstrap-iso"><input class="btn-confirm normal btn btn-primary-cta" type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>');a("#popup_ok").click(function(){a.alerts._hide()});a("#popup_ok").focus().keypress(function(n){if(n.keyCode==13||n.keyCode==27){a("#popup_ok").trigger("click")}});break;case"confirm":var l=a.alerts.okButton;var c=a.alerts.cancelButton;if(f=="delete"){l=a.alerts.deleteButton}else{if(f=="readmore"){l="Read more";c="OK"}else{if(f=="YesNo"){l=a.alerts.yesButton;c=a.alerts.noButton}}}if(d){l=d.ok_text;c=d.cancel_text}a("#popup_message").after('<div id="popup_panel" class="bootstrap-iso"><input class="btn '+(window.new_design==1?(f=="delete"?"btn-secondary-red ":"btn-secondary-cta "):"btn-confirm btn-primary-cta ")+f+'" type="button" value="'+l+'" id="popup_ok" /> <input type="button" '+(window.new_design==1?"autofocus":"")+' class="btn-confirm btn btn-outline" value="'+c+'" id="popup_cancel" /></div>');a("#popup_ok").click(function(){a.alerts._hide();if(m){m(true)}});a("#popup_cancel").click(function(){a.alerts._hide();if(m){m(false)}});a("#popup_ok").focus();a("#popup_ok, #popup_cancel").keypress(function(n){if(n.keyCode==13){a("#popup_ok").trigger("click")}if(n.keyCode==27){a("#popup_cancel").trigger("click")}});break;case"prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>');a("#popup_prompt").width(a("#popup_message").width());a("#popup_ok").click(function(){var e=a("#popup_prompt").val();a.alerts._hide();if(m){m(e)}});a("#popup_cancel").click(function(){a.alerts._hide();if(m){m(null)}});a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(n){if(n.keyCode==13){a("#popup_ok").trigger("click")}if(n.keyCode==27){a("#popup_cancel").trigger("click")}});if(k){a("#popup_prompt").val(k)}a("#popup_prompt").focus().select();break}if(a.alerts.draggable){try{a("#popup_container").draggable({handle:a("#popup_title")});a("#popup_title").css({cursor:"move"})}catch(g){}}},_hide:function(){a("#popup_container").remove();a.alerts._overlay("hide");a.alerts._maintainPosition(false)},_overlay:function(b){switch(b){case"show":a.alerts._overlay("hide");a("BODY").append('<div id="popup_overlay"></div>');a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:this.overlayColor,opacity:a.alerts.overlayOpacity});break;case"hide":a("#popup_overlay").remove();break}},_reposition:function(){var c=((a(window).height()/2)-(a("#popup_container").outerHeight()/2))+this.verticalOffset;var b=((a(window).width()/2)-(a("#popup_container").outerWidth()/2))+this.horizontalOffset;if(typeof window.global_top_scroll!="undefined"&&typeof window.is_captainform!="undefined"&&window.is_captainform==true){c=window.global_top_scroll}if(c<0){c=0}if(b<0){b=0}a("#popup_container").css({top:c+"px",left:b+"px"});a("#popup_overlay").height(a(document).height())},_maintainPosition:function(b){if(a.alerts.repositionOnResize){switch(b){case true:a(window).bind("resize",a.alerts._reposition);break;case false:a(window).unbind("resize",a.alerts._reposition);break}}}};jAlert=function(b,c,d){a.alerts.init();a.alerts.alert(b,c,d)};jConfirm=function(d,e,b,f,c){c=typeof c!=="undefined"?c:false;a.alerts.init();a.alerts.confirm(d,e,b,f,c)};jPrompt=function(b,c,d,e){a.alerts.init();a.alerts.prompt(b,c,d,e)}})(jQuery);function ucfirst(h){var k=h;var d=k.split(" "),g=d.length,e,j=[];for(e=0;e<g;e++){var c=d[e];var f=c[0].toUpperCase();var b=c.substring(1,c.length);var a=f+b;j.push(a)}return j.join(" ")}function confirmPopup(i,d,a,h,g,b,c,f){f=typeof f!=="undefined"?f:false;if(typeof h=="undefined"){h="Confirmation Dialog"}if(h!=""){h=ucfirst(h)}if(typeof g=="undefined"){g="normal"}if(a.indexOf("`")!=-1){var e=a.replace(/`/g,"'");a=e}if(typeof c!=="undefined"){if(c.indexOf("`")!=-1){var e=c.replace(/`/g,"'");c=e}}jConfirm(i,h,g,function(j){if(j){switch(d){case"link":window.location.href=a;break;case"link-blank":window.open(a,"_blank");break;case"link-self":window.open(a,"_self");break;case"function":setTimeout(a,1);break}}else{if(typeof b!=="undefined"){switch(b){case"link":window.location.href=c;break;case"link-blank":window.open(c,"_blank");break;case"link-self":window.open(c,"_self");break;case"function":setTimeout(c,1);break}}}},f)}function alertPopup(a,b,c){if(typeof b=="undefined"){b=""}if(b!=""){b=ucfirst(b)}jAlert(a,b,c)};